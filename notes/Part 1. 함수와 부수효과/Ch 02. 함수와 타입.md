# Clip 1. 돌아보기 > 부수효과와 순수함수

## 핵심 개념 2가지

- 함수를 합성해서 복잡한 프로그램을 쉽게 만들기
- 부수효과를 공통적인 방법으로 추상화

펑터와 모나드와 같은 수학적인 이론이 뒷받침 된다.

## 부수효과 vs 순수 함수

**부수효과(Side effect)**

- 반환값으로 알 수 없는 외부의 상태를 변경하거나 예상치 못한 작용을 하는 것

**순수함수**

- 똑같은 매개변수(입력)을 받으면 항상 같은 값을 반환하는 함수

# Clip 2. 미리보기 > 함수와 함수 합성

## 방향 잡기

- 전역변수에 숨겨진 부수효과 찾아내기
- 절차(Procedure)를 순수함수로 바꾸기
- Record Data와 함수 비교하기
- 함수 합성(Function Composition)
- 함수와 타입, 집합
- 타입을 만드는 함수, 제네릭(Generic)

# Clip 3. 계산과 부수효과의 분리

```typescript
/*
 * 토마토: 7000
 * 오렌지: 15000
 * 사과: 10000함수와 부수효과
 */
export let totalPrice = 0;
totalPrice += 7000;
totalPrice += 15000;
totalPrice += 10000;
totalPrice += 30000; // 10000원 짜리 3개인지, 15000원짜리 2개인지 불분명함
totalPrice += 8000; // 실수할 수도 있음
```

```typescript
// 명령형
/*
 * 토마토: 7000
 * 오렌지: 15000
 * 사과: 10000함수와 부수효과
 */

export let totalPrice = 0;

export function addTomato() {
  // 부수효과를 일으킴
  totalPrice += 7000;
}

export function addOrange() {
  // 부수효과를 일으킴
  totalPrice += 15000;
}

export function addApple() {
  // 부수효과를 일으킴
  totalPrice += 10000;
}

export function list1() {
  // 토마토, 오렌지, 사과 한 상자
  addTomato()
  addOrange()
  addApple()
}

export function list2() {
  // 토마토 2상자
  addTomato()
  addTomato()
}

export function 3() {
  // 오렌지 100상자
  for (let i = 0; i < 100; i++) {
    addOrange()
  }
}
```

# Clip 2. data와 function

```typescript
/*
 * 토마토: 7000
 * 오렌지: 15000
 * 사과: 10000함수와 부수효과
 */

// 과일들의 가격을 반환함
export function priceOfTomato() {
  return 7000;
}

export function priceOfOrange() {
  return 15000;
}

export function priceOfApple() {
  return 10000;
}

export function getPrice(name: string): number {
  if (name === 'tomato') {
    return 7000;
  } else if (name === 'orange') {
    return 15000;
  } else if (name === 'apple') {
    return 10000;
  } else {
    return 0;
  }
}

const priceOfFruit = {
  tomato: 7000,
  orange: 15000,
  apple: 10000,
};

// 입력값이 출력값에 대응된다는 본질은 같음
const isEven = (n: number): boolean => n % 2 === 0;

// 과일들의 가격을 가져오는 함수들을 실행하고, 결과를 반환함
export function list1() {
  return priceOfTomato() + priceOfOrange() + priceOfApple();
}

export function list2() {
  return priceOfTomato() + priceOfTomato();
}

export function list3() {
  return priceOfOrange() * 100;
}

// 부수효과가 없어짐!
```
